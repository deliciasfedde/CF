<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Login - Control Finanzas</title>
  <link rel="manifest" href="./manifest.json">
</head>

<body>

<h1>CONTROL DE MIS FINANZAS</h1>

<div id="estado"></div>

<div id="login-online" style="display:none;">
  <h2>Inicio de sesi칩n</h2>
  <input type="email" placeholder="Correo"><br><br>
  <input type="password" placeholder="Contrase침a"><br><br>
  <button onclick="loginOnline()">Ingresar</button>
</div>

<div id="login-offline" style="display:none;">
  <h2>Modo sin conexi칩n</h2>
  <p>Est치s sin internet. Entrar치s en modo offline.</p>
  <button onclick="loginOffline()">Entrar</button>
</div>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("./sw.js");
}

function detectarEstado() {
  if (navigator.onLine) {
    document.getElementById("estado").innerText = "游릭 Con internet";
    document.getElementById("login-online").style.display = "block";
  } else {
    document.getElementById("estado").innerText = "游댮 Sin internet";
    document.getElementById("login-offline").style.display = "block";
  }
}

function loginOffline() {
  localStorage.setItem("modo", "offline");
  location.href = "index.html";
}

function loginOnline() {
  // aqu칤 luego conectamos Apps Script
  localStorage.setItem("modo", "online");
  alert("Aqu칤 va tu login real con Apps Script");
}

window.addEventListener("load", detectarEstado);
window.addEventListener("online", detectarEstado);
window.addEventListener("offline", detectarEstado);
</script>

  <script>
function isOnline() {
  return navigator.onLine;
}
</script>


</body>
</html>
